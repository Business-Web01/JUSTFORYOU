<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Valentine's Surprise</title>
    <style>
        :root {
            --pink-bg: #fff0f5;
            --red-main: #d32f2f;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--pink-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* --- STACKED TEXT --- */
        #text-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 100%;
            text-align: center;
            margin-bottom: 30px;
        }

        .word-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            width: 100%;
            flex-wrap: nowrap; /* Keeps words on one line */
        }

        .letter {
            display: inline-block;
            padding: 8px 10px; /* Reduced padding */
            font-size: 1.6rem; /* Reduced base font size */
            font-weight: bold;
            text-transform: lowercase;
            background-color: white;
            color: var(--red-main);
            box-shadow: 2px 2px 0px rgba(0,0,0,0.05);
            transform: rotate(var(--rotation));
            opacity: 0;
            animation: fadeIn 0.1s forwards;
        }

        .letter:nth-child(even) { background-color: #f8bbd0; color: #b71c1c; }
        .letter:nth-child(3n) { background-color: #ff80ab; color: white; }

        @keyframes fadeIn { to { opacity: 1; } }

        /* --- SHIMMER BUTTON --- */
        #btn-love {
            padding: 15px 45px;
            font-size: 1.2rem;
            background-color: #ff4081;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            opacity: 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-weight: bold;
        }

        .show-btn { animation: fadeInBtn 1s ease forwards; }

        @keyframes fadeInBtn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #btn-love::after {
            content: '';
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.6), transparent);
            transform: rotate(45deg);
            animation: shimmer 2.5s infinite;
        }

        @keyframes shimmer { 0% { left: -150%; } 100% { left: 150%; } }

        /* --- FLOATING HEARTS --- */
        .heart {
            position: absolute;
            color: #ff1744;
            font-size: 24px;
            pointer-events: none;
            z-index: 1000;
            animation: floatUp 3s ease-out forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-160px) scale(0); opacity: 0; }
        }

        /* --- MOBILE FIXES --- */
        @media (max-width: 480px) {
            #text-container { gap: 8px; }
            .word-row { gap: 3px; } /* Tighter spacing for mobile */
            .letter { 
                font-size: 1.2rem; /* Much smaller to fit "valentine's" */
                padding: 6px 8px; 
            }
            #btn-love { padding: 12px 35px; font-size: 1rem; }
        }

        /* Extra small screen fix (iPhone SE/Small Androids) */
        @media (max-width: 340px) {
            .letter {
                font-size: 1rem;
                padding: 4px 6px;
            }
        }
    </style>
</head>
<body onclick="createHeart(event)">

    <div id="text-container"></div>
    
    <button id="btn-love" onclick="handleButtonClick(event)">Click me</button>

    <script>
        const words = ["happy", "valentine's", "day", "mbalz"];
        const container = document.getElementById('text-container');
        const btn = document.getElementById('btn-love');

        async function typeWriter() {
            for (let wordIndex = 0; wordIndex < words.length; wordIndex++) {
                const wordRow = document.createElement('div');
                wordRow.className = 'word-row';
                container.appendChild(wordRow);

                const letters = words[wordIndex].split('');
                for (let char of letters) {
                    const span = document.createElement('span');
                    span.innerText = char;
                    span.className = 'letter';
                    span.style.setProperty('--rotation', (Math.random() * 10 - 5) + 'deg');
                    wordRow.appendChild(span);
                    
                    await new Promise(resolve => setTimeout(resolve, 150));
                }
            }
            btn.classList.add('show-btn');
        }

        function createHeart(e) {
            const heart = document.createElement('div');
            heart.innerHTML = '❤️';
            heart.className = 'heart';
            heart.style.left = e.clientX + 'px';
            heart.style.top = e.clientY + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 3000);
        }

        function handleButtonClick(e) {
            e.stopPropagation(); 
            window.location.href = "love letter.html";
        }

        window.onload = typeWriter;
    </script>
</body>
</html>